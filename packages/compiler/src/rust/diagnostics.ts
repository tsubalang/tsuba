const compilerDiagnosticCodes = [
  "TSB0001",
  "TSB0002",
  "TSB1000",
  "TSB1001",
  "TSB1002",
  "TSB1003",
  "TSB1004",
  "TSB1010",
  "TSB1011",
  "TSB1012",
  "TSB1013",
  "TSB1014",
  "TSB1015",
  "TSB1016",
  "TSB1017",
  "TSB1018",
  "TSB1020",
  "TSB1021",
  "TSB1022",
  "TSB1023",
  "TSB1100",
  "TSB1101",
  "TSB1110",
  "TSB1111",
  "TSB1112",
  "TSB1113",
  "TSB1116",
  "TSB1118",
  "TSB1119",
  "TSB1120",
  "TSB1121",
  "TSB1122",
  "TSB1123",
  "TSB1124",
  "TSB1125",
  "TSB1126",
  "TSB1127",
  "TSB1130",
  "TSB1131",
  "TSB1132",
  "TSB1200",
  "TSB1300",
  "TSB1301",
  "TSB1302",
  "TSB1303",
  "TSB1304",
  "TSB1305",
  "TSB1306",
  "TSB1308",
  "TSB1310",
  "TSB1311",
  "TSB1312",
  "TSB1400",
  "TSB1401",
  "TSB1402",
  "TSB1403",
  "TSB1404",
  "TSB1405",
  "TSB1406",
  "TSB1407",
  "TSB1408",
  "TSB1409",
  "TSB1410",
  "TSB1411",
  "TSB1412",
  "TSB1413",
  "TSB1414",
  "TSB1415",
  "TSB1416",
  "TSB1417",
  "TSB1418",
  "TSB1419",
  "TSB1420",
  "TSB1421",
  "TSB1422",
  "TSB1423",
  "TSB1424",
  "TSB1425",
  "TSB1426",
  "TSB1427",
  "TSB1428",
  "TSB1429",
  "TSB1430",
  "TSB1431",
  "TSB1432",
  "TSB1433",
  "TSB1434",
  "TSB1435",
  "TSB1436",
  "TSB1437",
  "TSB1438",
  "TSB1439",
  "TSB1440",
  "TSB1441",
  "TSB1442",
  "TSB1443",
  "TSB1444",
  "TSB1445",
  "TSB1446",
  "TSB1447",
  "TSB1450",
  "TSB1451",
  "TSB1452",
  "TSB1453",
  "TSB1454",
  "TSB1455",
  "TSB1456",
  "TSB1457",
  "TSB1458",
  "TSB1459",
  "TSB1460",
  "TSB1470",
  "TSB1471",
  "TSB1472",
  "TSB1473",
  "TSB1474",
  "TSB1475",
  "TSB1476",
  "TSB2001",
  "TSB2002",
  "TSB2010",
  "TSB2100",
  "TSB2110",
  "TSB2120",
  "TSB2200",
  "TSB2201",
  "TSB2202",
  "TSB2203",
  "TSB2204",
  "TSB2205",
  "TSB2206",
  "TSB2207",
  "TSB2208",
  "TSB2209",
  "TSB2210",
  "TSB3000",
  "TSB3001",
  "TSB3002",
  "TSB3003",
  "TSB3004",
  "TSB3005",
  "TSB3010",
  "TSB3100",
  "TSB3102",
  "TSB3200",
  "TSB3201",
  "TSB3202",
  "TSB3203",
  "TSB3204",
  "TSB3205",
  "TSB3206",
  "TSB3207",
  "TSB3208",
  "TSB3209",
  "TSB3210",
  "TSB3211",
  "TSB3212",
  "TSB3213",
  "TSB3214",
  "TSB3220",
  "TSB3221",
  "TSB3222",
  "TSB3223",
  "TSB3224",
  "TSB3225",
  "TSB3226",
  "TSB3227",
  "TSB3228",
  "TSB3300",
  "TSB3301",
  "TSB3302",
  "TSB3303",
  "TSB3304",
  "TSB3305",
  "TSB3306",
  "TSB3307",
  "TSB3308",
  "TSB3310",
  "TSB3311",
  "TSB4000",
  "TSB4001",
  "TSB4002",
  "TSB4003",
  "TSB4005",
  "TSB4006",
  "TSB4007",
  "TSB4010",
  "TSB4011",
  "TSB4012",
  "TSB4013",
  "TSB4020",
  "TSB4021",
  "TSB4022",
  "TSB4023",
  "TSB4024",
  "TSB4025",
  "TSB4026",
  "TSB4027",
  "TSB4028",
  "TSB4029",
  "TSB4030",
  "TSB4031",
  "TSB4100",
  "TSB4101",
  "TSB4102",
  "TSB4103",
  "TSB4104",
  "TSB4105",
  "TSB4106",
  "TSB4107",
  "TSB4108",
  "TSB5000",
  "TSB5001",
  "TSB5002",
  "TSB5003",
  "TSB5004",
  "TSB5005",
  "TSB5006",
  "TSB5007",
  "TSB5008",
  "TSB5009",
  "TSB5100",
  "TSB5101",
  "TSB5102",
  "TSB5103",
  "TSB5104",
  "TSB5105",
  "TSB5106",
  "TSB5107",
  "TSB5108",
  "TSB5109",
  "TSB5110",
  "TSB5200",
  "TSB5201",
  "TSB5202",
  "TSB5203",
  "TSB5204",
] as const;

export type CompilerDiagnosticCode = (typeof compilerDiagnosticCodes)[number];

export const COMPILER_DIAGNOSTIC_CODES: readonly CompilerDiagnosticCode[] = compilerDiagnosticCodes;

const compilerDiagnosticCodeSet = new Set<string>(COMPILER_DIAGNOSTIC_CODES);

export function isCompilerDiagnosticCode(code: string): code is CompilerDiagnosticCode {
  return compilerDiagnosticCodeSet.has(code);
}

export function assertCompilerDiagnosticCode(code: string): asserts code is CompilerDiagnosticCode {
  if (isCompilerDiagnosticCode(code)) return;
  throw new Error(
    `Unknown compiler diagnostic code '${code}'. Add it to packages/compiler/src/rust/diagnostics.ts first.`
  );
}

export function compilerDiagnosticDomain(code: CompilerDiagnosticCode): string {
  const numeric = Number.parseInt(code.slice(3), 10);
  if (numeric >= 0 && numeric <= 999) return "bootstrap";
  if (numeric >= 1000 && numeric <= 1999) return "entry-and-expressions";
  if (numeric >= 2000 && numeric <= 2999) return "control-flow";
  if (numeric >= 3000 && numeric <= 3999) return "functions-imports-and-annotations";
  if (numeric >= 4000 && numeric <= 4999) return "classes-and-methods";
  if (numeric >= 5000 && numeric <= 5999) return "types-and-traits";
  return "other";
}
